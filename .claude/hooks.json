{
  "$schema": "https://json.schemastore.org/claude-code-settings.json",
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "tool == \"Bash\" && tool_input.command matches \"git (commit|push)\"",
        "hooks": [
          {
            "type": "command",
            "command": "node -e \"console.error('[Hook] ğŸ” Pre-commit checks:');console.error('[Hook]   - Running typecheck...');console.error('[Hook]   - Running lint...');console.error('[Hook]   - Running tests...');\""
          }
        ],
        "description": "Reminder to run checks before commit"
      },
      {
        "matcher": "tool == \"Bash\" && tool_input.command matches \"npm run build\"",
        "hooks": [
          {
            "type": "command",
            "command": "node -e \"console.error('[Hook] ğŸ—ï¸  Build starting...');console.error('[Hook] â„¹ï¸  Will auto-format and typecheck after build');\""
          }
        ],
        "description": "Build notice"
      }
    ],
    "PostToolUse": [
      {
        "matcher": "tool == \"Edit\" && tool_input.file_path matches \"\\\\.(ts|tsx|js|jsx)$\"",
        "hooks": [
          {
            "type": "command",
            "command": "node -e \"const fs=require('fs');let d='';process.stdin.on('data',c=>d+=c);process.stdin.on('end',()=>{const i=JSON.parse(d);const p=i.tool_input?.file_path;if(p&&fs.existsSync(p)){const c=fs.readFileSync(p,'utf8');if(c.includes('console.log')){console.error('[Hook] âš ï¸  console.log detected in: '+p);console.error('[Hook] ğŸ’¡ Remove before committing')}}console.log(d)})\""
          }
        ],
        "description": "Detect console.log in edited files"
      },
      {
        "matcher": "tool == \"Edit\" && tool_input.file_path matches \"\\\\.(ts|tsx)$\"",
        "hooks": [
          {
            "type": "command",
            "command": "node -e \"console.error('[Hook] ğŸ” TypeScript file modified');console.error('[Hook] â„¹ï¸  Typecheck will run on next build/commit');\""
          }
        ],
        "description": "TS edit notice"
      },
      {
        "matcher": "tool == \"Bash\" && tool_input.command matches \"npm run (build|test|lint|typecheck)\"",
        "hooks": [
          {
            "type": "command",
            "command": "node -e \"let d='';process.stdin.on('data',c=>d+=c);process.stdin.on('end',()=>{const i=JSON.parse(d);const cmd=i.tool_input?.command||'';const out=i.tool_result||'';if(out.includes('error')||out.includes('failed')){console.error('[Hook] âŒ Command failed! See output above')}else if(cmd.includes('test')){const match=out.match(/(\\d+)%/);if(match&&parseInt(match[1])<80){console.error('[Hook] âš ï¸  Test coverage: '+match[1]+'% (target: 80%)')}else{console.error('[Hook] âœ… Tests passed')}}console.log(d)})\""
          }
        ],
        "description": "Check command results"
      },
      {
        "matcher": "tool == \"Write\"",
        "hooks": [
          {
            "type": "command",
            "command": "node -e \"let d='';process.stdin.on('data',c=>d+=c);process.stdin.on('end',()=>{const i=JSON.parse(d);const p=i.tool_input?.file_path||'';console.error('[Hook] ğŸ“ File created: '+p);if(p.includes('test')){console.error('[Hook] âœ… Test file created - good TDD practice!')}console.log(d)})\""
          }
        ],
        "description": "Log file creation"
      }
    ],
    "SessionEnd": [
      {
        "matcher": "*",
        "hooks": [
          {
            "type": "command",
            "command": "node -e \"console.error('[Hook] ğŸ“Š Session ending');console.error('[Hook] ğŸ’¡ Tips:');console.error('[Hook]   - Run tests: npm test');console.error('[Hook]   - Typecheck: npm run typecheck');console.error('[Hook]   - Lint: npm run lint');console.error('[Hook]   - Build: npm run build');\""
          }
        ],
        "description": "Session end summary"
      }
    ]
  }
}
