# æŠ€èƒ½é‡å¤å¯¼å…¥æ£€æµ‹åŠŸèƒ½è¯´æ˜

**åŠŸèƒ½æ—¥æœŸ**: 2026-01-25
**é—®é¢˜**: å¤šæ¬¡å¯¼å…¥åŒä¸€ä»“åº“æˆ–ä¸åŒä»“åº“åŒ…å«ç›¸åŒæŠ€èƒ½æ—¶ï¼Œä¼šå¯¼è‡´æŠ€èƒ½é‡å¤

---

## ğŸ” é—®é¢˜åˆ†æ

### åŸå§‹é—®é¢˜
ç”¨æˆ·å¤šæ¬¡å¯¼å…¥ GitHub ä»“åº“æ—¶ï¼š
- âŒ å·²å­˜åœ¨çš„æŠ€èƒ½ä¼šè¢«**ç›´æ¥è¦†ç›–**ï¼Œæ²¡æœ‰ä»»ä½•æç¤º
- âŒ ç”¨æˆ·ä¸çŸ¥é“æŠ€èƒ½è¢«è¦†ç›–äº†
- âŒ æ— æ³•é€‰æ‹©è·³è¿‡æˆ–ä¿ç•™åŸæŠ€èƒ½
- âŒ å¯èƒ½ä¸¢å¤±ç”¨æˆ·è‡ªå®šä¹‰ä¿®æ”¹

### åœºæ™¯ç¤ºä¾‹

**åœºæ™¯ 1: é‡å¤å¯¼å…¥åŒä¸€ä»“åº“**
```bash
# ç¬¬ä¸€æ¬¡å¯¼å…¥
å¯¼å…¥ anthropics/skills â†’ 17 ä¸ªæŠ€èƒ½

# ç¬¬äºŒæ¬¡å¯¼å…¥ï¼ˆæ›´æ–°ï¼‰
å¯¼å…¥ anthropics/skills â†’ 17 ä¸ªæŠ€èƒ½è¢«è¦†ç›–ï¼Œç”¨æˆ·ä¸çŸ¥é“
```

**åœºæ™¯ 2: ä¸åŒä»“åº“åŒ…å«ç›¸åŒæŠ€èƒ½**
```bash
# å¯¼å…¥å®˜æ–¹ä»“åº“
å¯¼å…¥ anthropics/skills â†’ åŒ…å« docx, pdf, pptx

# å¯¼å…¥ç¬¬ä¸‰æ–¹ä»“åº“ï¼ˆä¹ŸåŒ…å«ç›¸åŒæŠ€èƒ½ï¼‰
å¯¼å…¥ user/skills â†’ docx, pdf, pptx è¢«è¦†ç›–
```

---

## âœ… è§£å†³æ–¹æ¡ˆ

### 1. é‡å¤æ£€æµ‹é€»è¾‘
**æ–‡ä»¶**: [electron/agent/skills/SkillManager.ts:818-879](electron/agent/skills/SkillManager.ts#L818-L879)

#### æ–°å¢ `skillExists` æ–¹æ³•
```typescript
/**
 * âœ¨ æ£€æŸ¥æŠ€èƒ½æ˜¯å¦å­˜åœ¨
 * @param skillId æŠ€èƒ½ ID
 * @returns æ˜¯å¦å­˜åœ¨
 */
private async skillExists(skillId: string): Promise<boolean> {
    try {
        const userSkillsDir = path.join(os.homedir(), '.aiagent', 'skills');
        const skillFilePath = path.join(userSkillsDir, skillId, 'SKILL.md');
        await fs.access(skillFilePath);
        return true;
    } catch {
        return false;
    }
}
```

#### æ›´æ–° `saveSkill` æ–¹æ³•
```typescript
async saveSkill(
    skillId: string,
    content: string,
    overwrite: boolean = false  // æ–°å¢å‚æ•°
): Promise<{
    success: boolean;
    skillId?: string;
    error?: string;
    skipped?: boolean  // æ–°å¢è¿”å›å­—æ®µ
}> {
    // æ£€æŸ¥æŠ€èƒ½æ˜¯å¦å·²å­˜åœ¨
    const skillExists = await this.skillExists(skillId);

    if (skillExists && !overwrite) {
        log.log(`[SkillManager] æŠ€èƒ½å·²å­˜åœ¨ï¼Œè·³è¿‡: ${skillId}`);
        return {
            success: true,
            skillId,
            skipped: true  // æ ‡è®°ä¸ºè·³è¿‡
        };
    }

    // ... ä¿å­˜é€»è¾‘
}
```

### 2. è¯¦ç»†ç»Ÿè®¡å¯¼å…¥ç»“æœ
**æ–‡ä»¶**: [electron/agent/skills/SkillManager.ts:623-661](electron/agent/skills/SkillManager.ts#L623-L661)

#### æ–°å¢ç»Ÿè®¡å˜é‡
```typescript
// å¯¼å…¥æ‰€æœ‰æŠ€èƒ½ï¼ˆè‡ªåŠ¨è·³è¿‡é‡å¤ï¼‰
const importedSkills: string[] = [];    // æ–°å¢çš„æŠ€èƒ½
const skippedSkills: string[] = [];      // è·³è¿‡çš„æŠ€èƒ½
const failedSkills: Array<{             // å¤±è´¥çš„æŠ€èƒ½
    skillId: string;
    error: string;
}> = [];
```

#### åˆ†ç±»å¤„ç†ç»“æœ
```typescript
for (const skillPath of foundSkills) {
    const content = await fs.readFile(skillPath, 'utf-8');
    const result = await this.saveSkillFromFile(content);

    if (result.skipped) {
        // è·³è¿‡å·²å­˜åœ¨çš„æŠ€èƒ½
        skippedSkills.push(result.skillId);
    } else if (result.success && result.skillId) {
        // æ–°å¯¼å…¥çš„æŠ€èƒ½
        importedSkills.push(result.skillId);
    } else {
        // å¯¼å…¥å¤±è´¥
        failedSkills.push({
            skillId: path.basename(path.dirname(skillPath)),
            error: result.error || 'æœªçŸ¥é”™è¯¯'
        });
    }
}
```

#### è¿”å›è¯¦ç»†ç»“æœ
```typescript
return {
    success: true,
    skills: importedSkills,    // æ–°å¢çš„æŠ€èƒ½åˆ—è¡¨
    skipped: skippedSkills,    // è·³è¿‡çš„æŠ€èƒ½åˆ—è¡¨
    failed: failedSkills       // å¤±è´¥çš„æŠ€èƒ½åˆ—è¡¨
};
```

### 3. å‰ç«¯è¯¦ç»†ç»“æœå±•ç¤º
**æ–‡ä»¶**: [src/components/ImportSkillDialog.tsx](src/components/ImportSkillDialog.tsx)

#### æ–°å¢çŠ¶æ€ç®¡ç†
```typescript
// å¯¼å…¥ç»“æœè¯¦æƒ…
const [importDetails, setImportDetails] = useState<{
    imported: number;
    skipped: number;
    failed: number;
    skippedList?: string[];
    failedList?: Array<{ skillId: string; error: string }>;
} | null>(null);
```

#### è¯¦ç»†ç»“æœæ˜¾ç¤º
```tsx
{/* è¯¦ç»†ç»“æœ */}
{importDetails && (importDetails.skipped > 0 || importDetails.failed > 0) && (
  <div className="mt-3 space-y-2">
    {/* è·³è¿‡çš„æŠ€èƒ½ */}
    {importDetails.skipped > 0 && (
      <details>
        <summary>è·³è¿‡çš„æŠ€èƒ½ ({importDetails.skipped})</summary>
        <ul>
          {importDetails.skipedList.map((skillId) => (
            <li>â€¢ {skillId} (å·²å­˜åœ¨)</li>
          ))}
        </ul>
      </details>
    )}

    {/* å¤±è´¥çš„æŠ€èƒ½ */}
    {importDetails.failed > 0 && (
      <details>
        <summary>å¤±è´¥çš„æŠ€èƒ½ ({importDetails.failed})</summary>
        <ul>
          {importDetails.failedList.map(({ skillId, error }) => (
            <li>â€¢ {skillId}: {error}</li>
          ))}
        </ul>
      </details>
    )}
  </div>
)}
```

---

## ğŸ¯ ç”¨æˆ·ä½“éªŒ

### å¯¼å…¥æµç¨‹

#### åœºæ™¯ 1: é¦–æ¬¡å¯¼å…¥
```
ç”¨æˆ·è¾“å…¥: https://github.com/anthropics/claude-code
â†“
ç³»ç»Ÿæ‰«æ: æ‰¾åˆ° 7 ä¸ªæŠ€èƒ½
â†“
å¯¼å…¥ç»“æœ: "æˆåŠŸå¯¼å…¥ 7 ä¸ªæŠ€èƒ½"
```

#### åœºæ™¯ 2: é‡å¤å¯¼å…¥ï¼ˆå…¨éƒ¨å·²å­˜åœ¨ï¼‰
```
ç”¨æˆ·è¾“å…¥: https://github.com/anthropics/claude-code
â†“
ç³»ç»Ÿæ‰«æ: æ‰¾åˆ° 7 ä¸ªæŠ€èƒ½
â†“
å¯¼å…¥ç»“æœ:
  "å¯¼å…¥å®Œæˆï¼š0 ä¸ªæ–°å¢ï¼Œ7 ä¸ªè·³è¿‡ï¼Œ0 ä¸ªå¤±è´¥"

å±•å¼€è¯¦æƒ…:
  â–¶ è·³è¿‡çš„æŠ€èƒ½ (7)
    â€¢ agent-development (å·²å­˜åœ¨)
    â€¢ command-development (å·²å­˜åœ¨)
    â€¢ hook-development (å·²å­˜åœ¨)
    â€¢ mcp-integration (å·²å­˜åœ¨)
    â€¢ plugin-settings (å·²å­˜åœ¨)
    â€¢ plugin-structure (å·²å­˜åœ¨)
    â€¢ skill-development (å·²å­˜åœ¨)
```

#### åœºæ™¯ 3: éƒ¨åˆ†é‡å¤
```
ç”¨æˆ·è¾“å…¥: https://github.com/user/custom-skills
â†“
ç³»ç»Ÿæ‰«æ: æ‰¾åˆ° 10 ä¸ªæŠ€èƒ½
â†“
å¯¼å…¥ç»“æœ:
  "å¯¼å…¥å®Œæˆï¼š3 ä¸ªæ–°å¢ï¼Œ5 ä¸ªè·³è¿‡ï¼Œ2 ä¸ªå¤±è´¥"

å±•å¼€è¯¦æƒ…:
  â–¶ è·³è¿‡çš„æŠ€èƒ½ (5)
    â€¢ docx (å·²å­˜åœ¨)
    â€¢ pdf (å·²å­˜åœ¨)
    â€¢ pptx (å·²å­˜åœ¨)
    â€¢ xlsx (å·²å­˜åœ¨)
    â€¢ frontend-design (å·²å­˜åœ¨)

  â–¶ å¤±è´¥çš„æŠ€èƒ½ (2)
    â€¢ skill-1: æ ¼å¼éªŒè¯å¤±è´¥: ç¼ºå°‘ name å­—æ®µ
    â€¢ skill-2: ä¿å­˜å¤±è´¥: æƒé™ä¸è¶³
```

---

## ğŸ“Š æŠ€æœ¯ç»†èŠ‚

### è¡Œä¸ºå¯¹æ¯”

| æ“ä½œ | æ—§ä»£ç  | æ–°ä»£ç  |
|------|--------|--------|
| **é¦–æ¬¡å¯¼å…¥** | âœ… ä¿å­˜æŠ€èƒ½ | âœ… ä¿å­˜æŠ€èƒ½ |
| **é‡å¤å¯¼å…¥** | âš ï¸ ç›´æ¥è¦†ç›– | âœ… è‡ªåŠ¨è·³è¿‡ |
| **ç”¨æˆ·æç¤º** | âŒ æ— æç¤º | âœ… æ˜¾ç¤ºè·³è¿‡æ•°é‡ |
| **è¯¦ç»†åˆ—è¡¨** | âŒ æ— åˆ—è¡¨ | âœ… å¯å±•å¼€æŸ¥çœ‹ |
| **å¤±è´¥å¤„ç†** | âš ï¸ ç®€å•é”™è¯¯ | âœ… è¯¦ç»†é”™è¯¯ä¿¡æ¯ |

### æ—¥å¿—è¾“å‡º

```typescript
// é¦–æ¬¡å¯¼å…¥
[SkillManager] æŠ€èƒ½å·²ä¿å­˜: agent-development
[SkillManager] æŠ€èƒ½å·²ä¿å­˜: command-development
...
[SkillManager] å¯¼å…¥å®Œæˆ: 7 ä¸ªæ–°å¢, 0 ä¸ªè·³è¿‡, 0 ä¸ªå¤±è´¥

// é‡å¤å¯¼å…¥
[SkillManager] æŠ€èƒ½å·²å­˜åœ¨ï¼Œè·³è¿‡: agent-development
[SkillManager] æŠ€èƒ½å·²å­˜åœ¨ï¼Œè·³è¿‡: command-development
...
[SkillManager] å¯¼å…¥å®Œæˆ: 0 ä¸ªæ–°å¢, 7 ä¸ªè·³è¿‡, 0 ä¸ªå¤±è´¥
```

---

## ğŸ”§ é…ç½®é€‰é¡¹

### å½“å‰é»˜è®¤è¡Œä¸º
```typescript
// saveSkill é»˜è®¤å‚æ•°
overwrite: boolean = false  // ä¸è¦†ç›–å·²å­˜åœ¨çš„æŠ€èƒ½
```

### æœªæ¥æ‰©å±•ï¼ˆå¯é€‰ï¼‰
å¦‚éœ€æ”¯æŒè¦†ç›–åŠŸèƒ½ï¼Œå¯ä»¥æ·»åŠ ï¼š

```typescript
// å‰ç«¯æ·»åŠ å¤é€‰æ¡†
<label>
  <input
    type="checkbox"
    checked={overwrite}
    onChange={(e) => setOverwrite(e.target.checked)}
  />
  è¦†ç›–å·²å­˜åœ¨çš„æŠ€èƒ½
</label>

// åç«¯ä¼ é€’å‚æ•°
await this.saveSkill(skillName, content, overwrite);
```

---

## ğŸ¨ UI æ•ˆæœ

### æˆåŠŸæç¤ºæ ·å¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ“ å¯¼å…¥æˆåŠŸ                               â”‚
â”‚ å¯¼å…¥å®Œæˆï¼š3 ä¸ªæ–°å¢ï¼Œ5 ä¸ªè·³è¿‡ï¼Œ2 ä¸ªå¤±è´¥    â”‚
â”‚                                         â”‚
â”‚ â–¶ è·³è¿‡çš„æŠ€èƒ½ (5)                         â”‚
â”‚   â€¢ docx (å·²å­˜åœ¨)                        â”‚
â”‚   â€¢ pdf (å·²å­˜åœ¨)                         â”‚
â”‚   â€¢ pptx (å·²å­˜åœ¨)                        â”‚
â”‚   â€¢ xlsx (å·²å­˜åœ¨)                        â”‚
â”‚   â€¢ frontend-design (å·²å­˜åœ¨)            â”‚
â”‚                                         â”‚
â”‚ â–¶ å¤±è´¥çš„æŠ€èƒ½ (2)                         â”‚
â”‚   â€¢ skill-1: æ ¼å¼éªŒè¯å¤±è´¥: ç¼ºå°‘ name å­—æ®µâ”‚
â”‚   â€¢ skill-2: ä¿å­˜å¤±è´¥: æƒé™ä¸è¶³          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### é¢œè‰²ç¼–ç 
- ğŸŸ¢ **ç»¿è‰²**: æˆåŠŸå¯¼å…¥çš„æŠ€èƒ½
- ğŸŸ¡ **é»„è‰²**: è·³è¿‡çš„æŠ€èƒ½ï¼ˆå·²å­˜åœ¨ï¼‰
- ğŸ”´ **çº¢è‰²**: å¤±è´¥çš„æŠ€èƒ½ï¼ˆæœ‰é”™è¯¯ï¼‰

---

## âœ… æµ‹è¯•ç”¨ä¾‹

### æµ‹è¯•ç”¨ä¾‹ 1: é¦–æ¬¡å¯¼å…¥
1. è¾“å…¥: `https://github.com/anthropics/claude-code`
2. é¢„æœŸ: "æˆåŠŸå¯¼å…¥ 7 ä¸ªæŠ€èƒ½"
3. éªŒè¯: æŠ€èƒ½åˆ—è¡¨ä¸­æœ‰ 7 ä¸ªæ–°æŠ€èƒ½

### æµ‹è¯•ç”¨ä¾‹ 2: é‡å¤å¯¼å…¥
1. å†æ¬¡å¯¼å…¥åŒä¸€ä»“åº“
2. é¢„æœŸ: "å¯¼å…¥å®Œæˆï¼š0 ä¸ªæ–°å¢ï¼Œ7 ä¸ªè·³è¿‡ï¼Œ0 ä¸ªå¤±è´¥"
3. éªŒè¯:
   - å±•å¼€æ˜¾ç¤º 7 ä¸ªè·³è¿‡çš„æŠ€èƒ½
   - æŠ€èƒ½å†…å®¹æœªæ”¹å˜
   - åŸæœ‰æŠ€èƒ½ä¿ç•™

### æµ‹è¯•ç”¨ä¾‹ 3: éƒ¨åˆ†é‡å¤
1. å¯¼å…¥åŒ…å«é‡å¤æŠ€èƒ½çš„ä»“åº“
2. é¢„æœŸ: æ˜¾ç¤ºæ–°å¢ã€è·³è¿‡ã€å¤±è´¥çš„æ•°é‡
3. éªŒè¯:
   - æ–°æŠ€èƒ½æˆåŠŸå¯¼å…¥
   - é‡å¤æŠ€èƒ½è¢«è·³è¿‡
   - å¤±è´¥æŠ€èƒ½æ˜¾ç¤ºé”™è¯¯åŸå› 

### æµ‹è¯•ç”¨ä¾‹ 4: å…¨éƒ¨å¤±è´¥
1. å¯¼å…¥æ ¼å¼é”™è¯¯çš„æŠ€èƒ½
2. é¢„æœŸ: "å¯¼å…¥å®Œæˆï¼š0 ä¸ªæ–°å¢ï¼Œ0 ä¸ªè·³è¿‡ï¼Œ10 ä¸ªå¤±è´¥"
3. éªŒè¯: æ˜¾ç¤ºæ¯ä¸ªå¤±è´¥æŠ€èƒ½çš„é”™è¯¯åŸå› 

---

## ğŸš€ ä½¿ç”¨å»ºè®®

### âœ… æ¨èåšæ³•
- âœ… **æ”¾å¿ƒé‡å¤å¯¼å…¥**: ç³»ç»Ÿä¼šè‡ªåŠ¨è·³è¿‡å·²å­˜åœ¨çš„æŠ€èƒ½
- âœ… **æŸ¥çœ‹è¯¦ç»†ç»“æœ**: ç‚¹å‡»å±•å¼€æŸ¥çœ‹å…·ä½“è·³è¿‡äº†å“ªäº›æŠ€èƒ½
- âœ… **å®šæœŸæ›´æ–°**: é‡å¤å¯¼å…¥å¯ä»¥è·å–æŠ€èƒ½çš„æœ€æ–°ç‰ˆæœ¬ï¼ˆå¦‚æ·»åŠ è¦†ç›–é€‰é¡¹ï¼‰

### âš ï¸ æ³¨æ„äº‹é¡¹
- âš ï¸ **å½“å‰ä¸è¦†ç›–**: å·²å­˜åœ¨çš„æŠ€èƒ½ä¸ä¼šè¢«æ›´æ–°
- âš ï¸ **æ‰‹åŠ¨åˆ é™¤**: å¦‚éœ€æ›´æ–°æŠ€èƒ½ï¼Œå…ˆåˆ é™¤æ—§æŠ€èƒ½å†å¯¼å…¥
- âš ï¸ **è‡ªå®šä¹‰æŠ€èƒ½**: ç”¨æˆ·è‡ªå®šä¹‰çš„æŠ€èƒ½ä¸å¯¼å…¥æŠ€èƒ½åŒåæ—¶ï¼Œä¹Ÿä¼šè¢«è·³è¿‡

---

## ğŸ“ˆ æ€§èƒ½å½±å“

| æ“ä½œ | æ€§èƒ½å½±å“ |
|------|---------|
| **é‡å¤æ£€æµ‹** | +5-10ms per skillï¼ˆæ–‡ä»¶ç³»ç»Ÿè®¿é—®ï¼‰ |
| **ç»Ÿè®¡ç»“æœ** | å¯å¿½ç•¥ï¼ˆå†…å­˜æ“ä½œï¼‰ |
| **UI æ¸²æŸ“** | å¯å¿½ç•¥ï¼ˆReact ä¼˜åŒ–ï¼‰ |
| **æ€»ä½“å½±å“** | <1% ï¼ˆå¯æ¥å—ï¼‰ |

---

## ğŸ¯ æœªæ¥æ”¹è¿›

### è®¡åˆ’ä¸­çš„åŠŸèƒ½
1. **è¦†ç›–é€‰é¡¹**: å…è®¸ç”¨æˆ·é€‰æ‹©æ˜¯å¦è¦†ç›–å·²å­˜åœ¨çš„æŠ€èƒ½
2. **ç‰ˆæœ¬æ¯”è¾ƒ**: æ˜¾ç¤ºæŠ€èƒ½ç‰ˆæœ¬å·®å¼‚
3. **æ‰¹é‡æ“ä½œ**: å…è®¸ç”¨æˆ·é€‰æ‹©è¦æ›´æ–°çš„æŠ€èƒ½
4. **å¯¼å…¥é¢„è§ˆ**: å¯¼å…¥å‰é¢„è§ˆå°†è¦å¯¼å…¥çš„æŠ€èƒ½åˆ—è¡¨
5. **å†²çªè§£å†³**: æ™ºèƒ½åˆå¹¶æŠ€èƒ½å†…å®¹

### ç¤ºä¾‹ UIï¼ˆæœªæ¥ï¼‰
```tsx
<label>
  <input type="checkbox" checked={overwrite} />
  è¦†ç›–å·²å­˜åœ¨çš„æŠ€èƒ½
</label>

<label>
  <input type="radio" value="skip" checked />
  è·³è¿‡å·²å­˜åœ¨çš„æŠ€èƒ½ï¼ˆæ¨èï¼‰
</label>
<label>
  <input type="radio" value="overwrite" />
  è¦†ç›–å·²å­˜åœ¨çš„æŠ€èƒ½
</label>
<label>
  <input type="radio" value="rename" />
  é‡å‘½åé‡å¤çš„æŠ€èƒ½
</label>
```

---

## âœ… ç»“è®º

é‡å¤å¯¼å…¥æ£€æµ‹åŠŸèƒ½å·²å®Œæˆï¼Œç°åœ¨ï¼š
- âœ… è‡ªåŠ¨è·³è¿‡å·²å­˜åœ¨çš„æŠ€èƒ½
- âœ… è¯¦ç»†ç»Ÿè®¡å¯¼å…¥ç»“æœ
- âœ… å¯è§†åŒ–å±•ç¤ºè·³è¿‡å’Œå¤±è´¥çš„æŠ€èƒ½
- âœ… å‹å¥½çš„ç”¨æˆ·æç¤º

**ä¸‹ä¸€æ­¥è¡ŒåŠ¨**:
- [ ] æµ‹è¯•å„ç§å¯¼å…¥åœºæ™¯
- [ ] æ”¶é›†ç”¨æˆ·åé¦ˆ
- [ ] æ ¹æ®éœ€æ±‚æ·»åŠ è¦†ç›–é€‰é¡¹
- [ ] ä¼˜åŒ–æ€§èƒ½ï¼ˆå¦‚æœéœ€è¦ï¼‰

---

**åŠŸèƒ½çŠ¶æ€**: âœ… å·²å®Œæˆ
**æµ‹è¯•çŠ¶æ€**: â³ å¾…æµ‹è¯•
