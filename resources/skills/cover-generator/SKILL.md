---
name: cover-generator
description: 一体化微信公众号封面生成器，智能生成底图、自动裁剪、分享卡片同步生成
license: MIT
---

# 公众号封面生成器

一体化智能工具，自动完成封面底图生成、智能裁剪、多比例适配、分享卡片生成。

## 核心功能

- **智能底图生成**：自动选择最佳尺寸和比例，支持多种风格
- **智能裁剪**：支持居中、黄金比例、显著性检测多种裁剪模式
- **多方案预览**：一次生成多种裁剪方案供选择
- **分享卡片同步**：自动生成配套的1:1分享卡片
- **一键输出**：头条封面(2.35:1)、次条封面(1:1)、分享卡片(1:1)同步导出

## 使用方式

### 方式1：使用风格系统（推荐 ⭐）

风格系统提供5种预设风格，自动生成高质量的封面提示词。

#### 基础用法

```
生成封面：智谱上市579亿，使用专业科技风格，副标题是GLM-4.7实测
```

#### 5种风格选择

| 风格 | 适用场景 | 示例 |
|-----|---------|------|
| 专业科技 | 技术文章、AI主题、编程教程 | `生成封面：AI架构设计，使用专业科技风格` |
| 清新活泼 | 生活分享、学习笔记、成长记录 | `生成封面：我的学习笔记，使用清新活泼风格` |
| 简约极简 | 哲学思考、深度观点、极简主义 | `生成封面：技术的本质，使用简约极简风格` |
| 温暖治愈 | 情感文章、成长感悟、人生故事 | `生成封面：与自己和解，使用温暖治愈风格` |
| 商务专业 | 商业分析、数据报告、市场研究 | `生成封面：2024市场分析，使用商务专业风格` |

#### 自动风格匹配

如果不指定风格，系统会根据标题自动匹配最合适的风格：

```
生成封面：我的AI学习笔记
# 系统自动匹配为"清新活泼"风格

生成封面：GLM-4.7技术深度解析
# 系统自动匹配为"专业科技"风格
```

### 方式2：使用传统提示词

你也可以直接描述想要的封面效果：

#### 基础用法

```
生成一个科技感的公众号封面，主题是AI人工智能，蓝紫色调
```

#### 指定风格

```
生成一个温暖治愈风格的公众号封面，主题是生活感悟，暖色调渐变
```

#### 指定裁剪方案

```
生成公众号封面，主题是职场成长，使用黄金比例裁剪
```

### 方式3：命令行直接调用

```bash
# 使用风格系统
python .claude/skills/cover-generator/scripts/cover_generator.py \
  --use-style \
  --title "智谱上市579亿" \
  --style tech \
  --subtitle "GLM-4.7实测"

# 自动匹配风格
python .claude/skills/cover-generator/scripts/cover_generator.py \
  --use-style \
  --title "我的学习笔记" \
  --style auto

# 使用传统提示词
python .claude/skills/cover-generator/scripts/cover_generator.py \
  "科技感渐变背景，中央有公司Logo"
```

### 完整参数

```json
{
  "use_style": true,
  "title": "智谱上市579亿",
  "style": "tech",
  "subtitle": "GLM-4.7实测",
  "scene_type": "cover",
  "crop_mode": "smart",
  "generate_share_card": true
}
```

## 典型场景

1. **公众号推文封面**：生成适配头条的2.35:1封面
2. **系列文章封面**：保持风格统一的系列封面
3. **活动海报封面**：带标题文字的封面卡片
4. **多平台适配**：同步生成公众号、小红书、微博多种尺寸

## 设计原则

- 智能识别主体位置，避免裁剪掉关键内容
- 头条封面(2.35:1)和分享卡片(1:1)视觉统一
- 关键内容默认放置在安全区域（中心60%）
- 支持多种裁剪模式适配不同内容布局

## 🔄 AI 生图失败时的备选方案

当 AI 生图服务（豆包 API）不可用时，您可以使用以下备选方案：

### 方案 1：使用纯色/渐变背景（推荐 ⭐）

**适用场景**：快速生成简单封面，无需 AI 生图

**优势**：
- ✅ 无需 API 调用，100% 可用
- ✅ 快速生成，< 1 秒
- ✅ 支持所有 5 种风格
- ✅ 文字清晰，可读性强

**使用方式**：
```
生成纯色背景封面：AI技术趋势，使用专业科技风格
```

**技术实现**：
- 使用 Pillow 生成分层渐变背景
- 根据风格自动选择配色方案
- 智能布局标题文字

### 方案 2：在线设计工具

**Canva（可画）** - https://www.canva.cn
- ✅ 专门的公众号封面模板库（900×383）
- ✅ 拖拽式编辑，操作简单
- ✅ 大量免费设计元素
- ✅ 支持团队协作

**稿定设计** - https://www.gaoding.com
- ✅ 微信公众号封面专门优化
- ✅ 提供行业模板分类
- ✅ 品牌色管理和复用

**创客贴** - https://www.chuangkit.com
- ✅ 海量免费模板
- ✅ 快速生成和下载
- ✅ 支持多种社交平台尺寸

### 方案 3：使用本地工具

**PowerPoint / Keynote**
- ✅ 快速制作封面
- ✅ 丰富的形状和图标库
- ✅ 可导出为图片

**Figma / Sketch**
- ✅ 专业级设计工具
- ✅ 精确控制每个元素
- ✅ 可创建可复用模板

**Photoshop / GIMP**
- ✅ 强大的图片编辑能力
- ✅ 高级特效和滤镜
- ✅ 专业输出质量

### 方案 4：使用预设模板

我们提供了预设模板库（即将推出）：
- 5 种风格 × 10 个配色 = 50 个预设模板
- 直接替换文字即可使用
- 适合快速批量生成

### 方案选择建议

| 场景 | 推荐方案 | 原因 |
|------|---------|------|
| 紧急封面 | 纯色/渐变背景 | 无需等待，立即生成 |
| 日常使用 | Canva | 模板丰富，操作简单 |
| 专业设计 | Figma | 精确控制，可复用 |
| 批量生成 | 预设模板 | 快速一致 |
| 高质量 | Photoshop | 专业输出 |

### 如何判断 AI 生图是否可用

**方法 1：尝试生成简单封面**
```
生成封面：测试
```

**方法 2：查看错误信息**
如果看到以下错误，说明 API 不可用：
- "API key 无效"
- "生成失败：网络错误"
- "AI 图片生成器未配置"

**方法 3：检查 API 配置**
```bash
# 检查环境变量
echo $DOUBAO_API_KEY

# 检查配置文件
cat .claude/skills/image-generation/config/config.yaml
```

### 临时解决方案

如果 AI 生图暂时不可用，您可以：

1. **使用纯色背景**：在命令中指定
   ```
   生成纯色背景封面：标题，使用专业科技风格
   ```

2. **使用在线工具**：
   - 访问 Canva：https://www.canva.cn
   - 搜索"公众号封面"
   - 选择合适的模板
   - 替换文字并下载

3. **联系技术支持**：
   - 检查 API Key 配置
   - 确认网络连接
   - 尝试刷新 API Key
