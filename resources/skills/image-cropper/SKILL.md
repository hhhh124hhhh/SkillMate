---
name: image-cropper
description: å›¾åƒè£å‰ªå·¥å…·ï¼Œæ”¯æŒä¿æŒç”»é¢ä¸­å¿ƒçš„æ™ºèƒ½è£å‰ªã€‚ä½¿ç”¨åœºæ™¯ï¼šï¼ˆ1ï¼‰å¾®ä¿¡å…¬ä¼—å·å°é¢è£å‰ªï¼ˆ2.35:1ï¼‰ï¼ˆ2ï¼‰ç¤¾äº¤åª’ä½“æ­£æ–¹å½¢è£å‰ªï¼ˆ1:1ï¼‰ï¼ˆ3ï¼‰æ‰¹é‡å¤„ç†å›¾ç‰‡å°ºå¯¸ï¼ˆ4ï¼‰å„ç§ç¤¾äº¤åª’ä½“é¢„è®¾å°ºå¯¸ï¼ˆå¾®ä¿¡ã€å¾®åšã€Instagramç­‰ï¼‰ã€‚å½“ç”¨æˆ·éœ€è¦"è£å‰ªå›¾ç‰‡"ã€"è°ƒæ•´å›¾ç‰‡å°ºå¯¸"ã€"ç”Ÿæˆæ­£æ–¹å½¢å›¾ç‰‡"ã€"å¾®ä¿¡å°é¢è£å‰ª"æ—¶è§¦å‘æ­¤skillã€‚
---

# å›¾åƒè£å‰ªå·¥å…·

æ™ºèƒ½å›¾åƒè£å‰ªå·¥å…·ï¼Œæ”¯æŒä¿æŒç”»é¢ä¸­å¿ƒçš„ç²¾å‡†è£å‰ªï¼Œä¸“ä¸ºç¤¾äº¤åª’ä½“å’Œå†…å®¹åˆ›ä½œä¼˜åŒ–ã€‚

## ðŸš€ å¿«é€Ÿå¼€å§‹

### å‘½ä»¤è¡Œä½¿ç”¨

```bash
# å•å¼ è£å‰ª
python scripts/crop_image.py input.jpg --size 900x383 --output output.jpg

# ä½¿ç”¨é¢„è®¾å°ºå¯¸
python scripts/crop_image.py input.jpg --preset wechat-cover --output output.jpg

# æ‰¹é‡è£å‰ª
python scripts/batch_crop.py folder/ --size 900x383 --output cropped_folder/
```

### Pythonè°ƒç”¨

```python
from image_cropper.scripts.crop_image import crop_to_center

# è£å‰ªä¸ºæŒ‡å®šå°ºå¯¸
crop_to_center("input.jpg", "output.jpg", width=900, height=383)

# ä½¿ç”¨é¢„è®¾å°ºå¯¸
crop_to_center("input.jpg", "output.jpg", preset="wechat-cover")

# æ‰¹é‡è£å‰ª
from image_cropper.scripts.batch_crop import batch_crop
batch_crop("folder/", "output_folder/", size="900x383")
```

## ðŸ“ é¢„è®¾å°ºå¯¸

### å¾®ä¿¡å…¬ä¼—å·

- `wechat-cover`: 900x383ï¼ˆ2.35:1ï¼Œå…¬ä¼—å·å°é¢ï¼‰
- `wechat-share`: 900x900ï¼ˆ1:1ï¼Œåˆ†äº«å¡ç‰‡ï¼‰
- `wechat-banner`: 1080x460ï¼ˆ2.35:1ï¼Œé«˜æ¸…å°é¢ï¼‰

### ç¤¾äº¤åª’ä½“

- `instagram`: 1080x1080ï¼ˆ1:1ï¼ŒInstagram/å¾®åšï¼‰
- `twitter`: 1200x675ï¼ˆ16:9ï¼ŒTwitteræ¨ªç‰ˆï¼‰
- `linkedin`: 1200x627ï¼ˆ1.91:1ï¼ŒLinkedInï¼‰

### æ–‡ç« é…å›¾

- `article-16-9`: 1792x1024ï¼ˆ16:9ï¼Œæ¨ªç‰ˆé…å›¾ï¼‰
- `article-4-3`: 1024x768ï¼ˆ4:3ï¼Œæ ‡å‡†é…å›¾ï¼‰
- `article-1-1`: 1024x1024ï¼ˆ1:1ï¼Œæ­£æ–¹å½¢é…å›¾ï¼‰

## ðŸŽ¯ ä½¿ç”¨åœºæ™¯

### åœºæ™¯1ï¼šå¾®ä¿¡å…¬ä¼—å·å°é¢è£å‰ª

**éœ€æ±‚**ï¼šç”Ÿæˆä¸€å¼ åŒæ—¶é€‚åˆå¤´æ¡å±•ç¤ºå’Œæœ‹å‹åœˆåˆ†äº«çš„å°é¢

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# ç”Ÿæˆ2.35:1å°é¢ï¼ˆ900x383ï¼‰
python scripts/crop_image.py original.jpg --preset wechat-cover --output cover.jpg

# åŒæ—¶ç”Ÿæˆ1:1æµ‹è¯•ç‰ˆæœ¬ï¼ˆéªŒè¯åˆ†äº«æ•ˆæžœï¼‰
python scripts/crop_image.py original.jpg --preset wechat-share --output test_1to1.jpg
```

**å…³é”®åŽŸåˆ™**ï¼š
- æ‰€æœ‰å…³é”®å†…å®¹å¿…é¡»åœ¨ä¸­å¿ƒ60%åŒºåŸŸ
- ç¡®ä¿è£å‰ªä¸º1:1åŽæ–‡å­—ä¾ç„¶å®Œæ•´
- é¿å…åœ¨è¾¹ç¼˜æ”¾ç½®é‡è¦å…ƒç´ 

### åœºæ™¯2ï¼šæ‰¹é‡å¤„ç†é…å›¾

**éœ€æ±‚**ï¼šå°†ä¸€ä¸ªæ–‡ä»¶å¤¹çš„æ‰€æœ‰å›¾ç‰‡ç»Ÿä¸€è£å‰ªä¸º16:9

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
python scripts/batch_crop.py raw_images/ --preset article-16-9 --output cropped_images/
```

### åœºæ™¯3ï¼šInstagramæ­£æ–¹å½¢è£å‰ª

**éœ€æ±‚**ï¼šå°†æ¨ªç‰ˆç…§ç‰‡è£å‰ªä¸ºæ­£æ–¹å½¢

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
python scripts/crop_image.py photo.jpg --preset instagram --output photo_square.jpg
```

## ðŸ”§ å‚æ•°è¯´æ˜Ž

### å•å¼ è£å‰ªï¼ˆcrop_image.pyï¼‰

| å‚æ•° | è¯´æ˜Ž | ç¤ºä¾‹ |
|------|------|------|
| `input` | è¾“å…¥å›¾ç‰‡è·¯å¾„ï¼ˆå¿…éœ€ï¼‰ | `photo.jpg` |
| `--size` | è¾“å‡ºå°ºå¯¸ï¼ˆå®½xé«˜ï¼‰ | `900x383` |
| `--preset` | ä½¿ç”¨é¢„è®¾å°ºå¯¸ | `wechat-cover` |
| `--output` | è¾“å‡ºè·¯å¾„ï¼ˆå¿…éœ€ï¼‰ | `output.jpg` |
| `--quality` | JPEGè´¨é‡ï¼ˆ1-100ï¼Œé»˜è®¤95ï¼‰ | `95` |

**æ³¨æ„**ï¼š`--size` å’Œ `--preset` äºŒé€‰ä¸€ï¼Œä¼˜å…ˆä½¿ç”¨ `--preset`

### æ‰¹é‡è£å‰ªï¼ˆbatch_crop.pyï¼‰

| å‚æ•° | è¯´æ˜Ž | ç¤ºä¾‹ |
|------|------|------|
| `input_dir` | è¾“å…¥æ–‡ä»¶å¤¹è·¯å¾„ï¼ˆå¿…éœ€ï¼‰ | `images/` |
| `--size` | è¾“å‡ºå°ºå¯¸ | `900x383` |
| `--preset` | ä½¿ç”¨é¢„è®¾å°ºå¯¸ | `wechat-cover` |
| `--output` | è¾“å‡ºæ–‡ä»¶å¤¹è·¯å¾„ï¼ˆå¿…éœ€ï¼‰ | `cropped/` |
| `--pattern` | æ–‡ä»¶åŒ¹é…æ¨¡å¼ï¼ˆé»˜è®¤*.jpgï¼‰ | `*.png` |

## ðŸ’¡ æœ€ä½³å®žè·µ

### 1. å®‰å…¨åŒºåŸŸè®¾è®¡

å¯¹äºŽå¯èƒ½è¢«è£å‰ªçš„åœºæ™¯ï¼ˆå¦‚å¾®ä¿¡å°é¢ï¼‰ï¼Œè®¾è®¡æ—¶éµå¾ªï¼š

```
ç”»é¢å¸ƒå±€ï¼š
[è¾¹ç¼˜20%] [ä¸­å¿ƒ60%å®‰å…¨åŒº] [è¾¹ç¼˜20%]
```

**å…³é”®å†…å®¹**ï¼šåªæ”¾åœ¨ä¸­å¿ƒ60%åŒºåŸŸ
**è£…é¥°å…ƒç´ **ï¼šå¯ä»¥æ”¾åœ¨è¾¹ç¼˜

### 2. è£å‰ªå‰æµ‹è¯•

åœ¨æ­£å¼ä½¿ç”¨å‰ï¼Œå…ˆæµ‹è¯•1:1è£å‰ªæ•ˆæžœï¼š

```bash
# ç”Ÿæˆå¤šä¸ªæµ‹è¯•ç‰ˆæœ¬
python scripts/crop_image.py original.jpg --size 900x900 --output test_1to1.jpg
python scripts/crop_image.py original.jpg --size 900x383 --output test_cover.jpg
```

æ£€æŸ¥ï¼š
- âœ… æ–‡å­—æ˜¯å¦å®Œæ•´
- âœ… å…³é”®å…ƒç´ æ˜¯å¦åœ¨ä¸­å¿ƒ
- âœ… è£å‰ªåŽæ•ˆæžœæ˜¯å¦æ»¡æ„

### 3. æ‰¹é‡å¤„ç†æŠ€å·§

æ‰¹é‡å¤„ç†æ—¶ï¼Œå»ºè®®ï¼š
- å…ˆç”¨1-2å¼ å›¾ç‰‡æµ‹è¯•æ•ˆæžœ
- ç¡®è®¤æ»¡æ„åŽå†æ‰¹é‡å¤„ç†
- ä¿ç•™åŽŸå§‹æ–‡ä»¶å¤‡ä»½

## ðŸ“Š ä¾èµ–å®‰è£…

```bash
pip install pillow
```

## ðŸ› ï¸ æ•…éšœæŽ’æŸ¥

### å¸¸è§é—®é¢˜

**Q1ï¼šæç¤º"PIL not available"**

```bash
# å®‰è£…Pillowåº“
pip install pillow
```

**Q2ï¼šè£å‰ªåŽå›¾ç‰‡å˜å½¢**

åŽŸå› ï¼šæŒ‡å®šå°ºå¯¸æ¯”ä¾‹ä¸ŽåŽŸå›¾ä¸ä¸€è‡´
è§£å†³ï¼šæœ¬å·¥å…·ä¿æŒåŽŸå›¾æ¯”ä¾‹ä¸­å¿ƒè£å‰ªï¼Œä¸ä¼šå˜å½¢

**Q3ï¼šè£å‰ªä½ç½®ä¸ç¬¦åˆé¢„æœŸ**

åŽŸå› ï¼šæœ¬å·¥å…·é»˜è®¤ä¿æŒç”»é¢ä¸­å¿ƒè£å‰ª
è§£å†³ï¼šå¦‚éœ€è‡ªå®šä¹‰è£å‰ªä½ç½®ï¼Œå¯ä½¿ç”¨ä¸“ä¸šå›¾åƒç¼–è¾‘å·¥å…·

**Q4ï¼šæ‰¹é‡è£å‰ªæ—¶æŸäº›å›¾ç‰‡å¤±è´¥**

åŽŸå› ï¼šå›¾ç‰‡æ ¼å¼ä¸æ”¯æŒæˆ–æ–‡ä»¶æŸå
è§£å†³ï¼šæ£€æŸ¥æ–‡ä»¶æ ¼å¼ï¼Œæ”¯æŒJPGã€PNGç­‰å¸¸è§æ ¼å¼

## ðŸ“š å‚è€ƒèµ„æº

- **é¢„è®¾å°ºå¯¸åˆ—è¡¨**ï¼š`references/preset-sizes.md`
- **ä½¿ç”¨ç¤ºä¾‹**ï¼šè§ä¸Šæ–¹å„åœºæ™¯è¯´æ˜Ž
- **æŠ€æœ¯æ–‡æ¡£**ï¼šPillowå®˜æ–¹æ–‡æ¡£ https://pillow.readthedocs.io/

---

**æœ€åŽæ›´æ–°**ï¼š2026-01-11
**Skillç‰ˆæœ¬**ï¼šv1.0
**ä¾èµ–**ï¼šPillow >= 8.0.0
