# Image-Understanding 技能使用指南

## 技能概述

image-understanding 是一个使用豆包视觉模型的图像理解技能，支持图片描述、分析、OCR 文字提取和问答功能。

## 安装步骤

### 1. 配置豆包 API Key

在 SkillMate 应用中：
1. 打开设置面板
2. 找到"豆包 API Key"配置项
3. 输入你的火山引擎 API Key

### 2. 验证技能加载

重启应用后，检查日志中是否显示：
```
[AgentRuntime] ✓ Loaded 17 skills  # 原有16个 + 新的 image-understanding
```

### 3. 安装 Python 依赖（首次使用）

技能会自动安装依赖，但如果遇到问题，可以手动安装：
```bash
pip install openai python-dotenv
```

## 使用方法

### 方式一：手动调用技能

1. 在聊天界面上传图片
2. 输入指令，例如：
   - "使用 image-understanding 技能描述这张图片"
   - "使用 image-understanding 技能提取图片中的文字"
   - "使用 image-understanding 技能分析这张图片的色彩"

### 方式二：自然语言触发

直接上传图片并描述需求：
- "描述这张图片"
- "分析这张图片的设计风格"
- "提取图片中的文字"
- "图片中有什么？"

## 支持的功能

1. **describe_image**: 详细描述图片内容
2. **analyze_image**: 分析图片的构图、色彩、风格、元素
3. **extract_text**: OCR 文字提取
4. **answer_question**: 针对图片回答问题

## 测试用例

### 测试1：图片描述
```
用户：[上传风景照片] 描述这张图片
AI：这张图片展示了一个宁静的湖泊场景...
```

### 测试2：图片分析
```
用户：[上传设计图] 分析这张图片的色彩搭配
AI：从色彩分析来看，这张图片主要使用了蓝色和白色...
```

### 测试3：OCR 提取
```
用户：[上传文档截图] 提取图片中的文字
AI：[提取的文字内容]
```

### 测试4：图片问答
```
用户：[上传产品图] 这个产品的特点是什么？
AI：从图片可以看出，这个产品具有以下特点...
```

## 性能指标

- 响应时间：< 3秒
- OCR 准确率：> 95%
- 支持格式：JPEG、PNG、WEBP、GIF
- 最大图片大小：5MB

## 故障排查

### 问题1：技能未被加载
**解决**：检查 SKILL.md 文件格式是否正确，确保 YAML frontmatter 格式无误

### 问题2：API 调用失败
**解决**：
1. 检查豆包 API Key 是否正确配置
2. 确认网络连接正常
3. 查看错误日志了解具体原因

### 问题3：图片识别结果不准确
**解决**：
1. 确保图片清晰度足够
2. 尝试调整提示词，更明确地描述需求
3. 使用不同的分析维度

## 后续优化

- [ ] 支持多图片批量处理
- [ ] 添加结果缓存机制
- [ ] 支持更多豆包视觉模型
- [ ] 扩展视频识别功能
