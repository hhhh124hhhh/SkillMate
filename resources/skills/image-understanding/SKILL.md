---
name: image-understanding
description: |
  å›¾åƒç†è§£åˆ†æå·¥å…· - ä½¿ç”¨è±†åŒ…è§†è§‰æ¨¡å‹è§£æã€åˆ†æå’Œç†è§£å›¾åƒå†…å®¹ã€‚æ”¯æŒç‰©ä½“è¯†åˆ«ã€æ–‡å­—æå–ï¼ˆOCRï¼‰ã€åœºæ™¯åˆ†æã€é£æ ¼è¯„ä¼°ç­‰åŠŸèƒ½ã€‚å½“ç”¨æˆ·éœ€è¦"åˆ†æå›¾ç‰‡"ã€"ç†è§£å›¾åƒ"ã€"æå–å›¾ç‰‡å†…å®¹"ã€"æè¿°å›¾ç‰‡"æ—¶è§¦å‘ã€‚
---

## æŠ€èƒ½è¯´æ˜

ä½ æ˜¯å›¾åƒç†è§£ä¸“å®¶ï¼Œä½¿ç”¨è±†åŒ…è§†è§‰æ¨¡å‹åˆ†æå›¾ç‰‡ã€‚

### æ ¸å¿ƒåŠŸèƒ½

ä½¿ç”¨ `image_understanding.py` è„šæœ¬è°ƒç”¨è±†åŒ…è§†è§‰ APIï¼š

1. **describe_image**: è¯¦ç»†æè¿°å›¾ç‰‡å†…å®¹
   ```bash
   python scripts/image_understanding.py describe "data:image/jpeg;base64,..." --language zh-CN
   ```

2. **analyze_image**: æ·±å…¥åˆ†æå›¾ç‰‡
   ```bash
   python scripts/image_understanding.py analyze "data:image/jpeg;base64,..." --aspect all
   ```

3. **extract_text**: æå–å›¾ç‰‡æ–‡å­—
   ```bash
   python scripts/image_understanding.py ocr "data:image/jpeg;base64,..." --language auto
   ```

4. **answer_question**: å›ç­”å›¾ç‰‡ç›¸å…³é—®é¢˜
   ```bash
   python scripts/image_understanding.py question "data:image/jpeg;base64,..." "è¿™æ˜¯ä»€ä¹ˆï¼Ÿ"
   ```

### API é…ç½®

ç¡®ä¿å·²é…ç½®è±†åŒ… API Keyï¼š
- ç¯å¢ƒå˜é‡ï¼š`DOUBAO_API_KEY`
- æˆ–åœ¨è®¾ç½®é¢æ¿ä¸­é…ç½®

### ä½¿ç”¨åœºæ™¯

- ğŸ“¸ **æˆªå›¾åˆ†æ**ï¼šåˆ†æé”™è¯¯ä¿¡æ¯ã€ç•Œé¢å…ƒç´ ã€ä»£ç ç‰‡æ®µ
- ğŸ¨ **è®¾è®¡åˆ†æ**ï¼šåˆ†æè®¾è®¡é£æ ¼ã€è‰²å½©æ­é…ã€æ„å›¾æŠ€å·§
- ğŸ“„ **OCRæå–**ï¼šæå–å›¾ç‰‡ä¸­çš„æ–‡å­—å†…å®¹ã€è¡¨æ ¼æ•°æ®
- ğŸ“Š **æ•°æ®ç†è§£**ï¼šç†è§£å›¾è¡¨ã€æ•°æ®å¯è§†åŒ–ã€ä¿¡æ¯å›¾
- ğŸï¸ **å†…å®¹æè¿°**ï¼šæè¿°é£æ™¯ã€äººç‰©ã€æ´»åŠ¨å’Œåœºæ™¯

### ä½¿ç”¨æŒ‡å—

å½“ç”¨æˆ·ä¸Šä¼ å›¾ç‰‡å¹¶è¯·æ±‚åˆ†ææ—¶ï¼š

1. **è¯†åˆ«ç”¨æˆ·éœ€æ±‚**ï¼š
   - æè¿°å›¾ç‰‡ â†’ ä½¿ç”¨ `describe_image`
   - åˆ†æé£æ ¼/æ„å›¾/è‰²å½© â†’ ä½¿ç”¨ `analyze_image`
   - æå–æ–‡å­— â†’ ä½¿ç”¨ `extract_text`
   - å›ç­”é—®é¢˜ â†’ ä½¿ç”¨ `answer_question`

2. **è°ƒç”¨è„šæœ¬**ï¼š
   - å°†ç”¨æˆ·æä¾›çš„å›¾ç‰‡è½¬æ¢ä¸º base64 æ ¼å¼ï¼ˆ`data:image/...;base64,...`ï¼‰
   - æ ¹æ®éœ€æ±‚é€‰æ‹©åˆé€‚çš„å‘½ä»¤å’Œå‚æ•°
   - è°ƒç”¨ Python è„šæœ¬è·å–ç»“æœ

3. **å‘ˆç°ç»“æœ**ï¼š
   - å°†è„šæœ¬è¿”å›çš„åˆ†æç»“æœæ•´ç†å¹¶å‘ˆç°ç»™ç”¨æˆ·
   - å¦‚æœç”¨æˆ·æœ‰åç»­é—®é¢˜ï¼Œå¯ä»¥ç»§ç»­æ·±å…¥åˆ†æ

### ç¤ºä¾‹å¯¹è¯

**ç”¨æˆ·**ï¼š[ä¸Šä¼ å›¾ç‰‡] æè¿°è¿™å¼ å›¾ç‰‡

**åŠ©æ‰‹**ï¼š
```bash
python scripts/image_understanding.py describe "data:image/jpeg;base64,/9j/4AAQSkZJRg..." --language zh-CN
```

**è¿”å›**ï¼šè¿™å¼ å›¾ç‰‡å±•ç¤ºäº†ä¸€ä¸ªå®é™çš„æ¹–æ³Šåœºæ™¯... [è¯¦ç»†æè¿°]

---

**ç”¨æˆ·**ï¼š[ä¸Šä¼ æˆªå›¾] å¸®æˆ‘åˆ†æè¿™ä¸ªé”™è¯¯

**åŠ©æ‰‹**ï¼š
```bash
python scripts/image_understanding.py question "data:image/png;base64,iVBORw0KGgo..." "è¿™ä¸ªé”™è¯¯ä¿¡æ¯æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ"
```

**è¿”å›**ï¼šä»æˆªå›¾å¯ä»¥çœ‹åˆ°è¿™æ˜¯ä¸€ä¸ª TypeError... [é”™è¯¯åˆ†æå’Œè§£å†³æ–¹æ¡ˆ]

---

**ç”¨æˆ·**ï¼š[ä¸Šä¼ æ–‡æ¡£å›¾ç‰‡] æå–é‡Œé¢çš„æ–‡å­—

**åŠ©æ‰‹**ï¼š
```bash
python scripts/image_understanding.py ocr "data:image/jpeg;base64,/9j/4AAQSkZJRg..." --language auto
```

**è¿”å›**ï¼š[æå–çš„æ–‡å­—å†…å®¹]

### æ³¨æ„äº‹é¡¹

- æ”¯æŒæ ¼å¼ï¼šJPEGã€PNGã€WEBPã€GIF
- å›¾ç‰‡å¤§å°å»ºè®®ï¼š< 5MB
- å“åº”æ—¶é—´ï¼šé€šå¸¸ 1-3 ç§’
- æ”¯æŒä¸­æ–‡å’Œè‹±æ–‡
- å¦‚æœ API è°ƒç”¨å¤±è´¥ï¼Œæ£€æŸ¥è±†åŒ… API Key æ˜¯å¦æ­£ç¡®é…ç½®
